const _0x2b90a5=_0x3cab;function _0x5a46(){const _0x56897b=['existsSync','../data/updateDB','sync','axios','upgrade','writeFileSync','697082JNpdrU','Updated!\x20Restarting...','https://api.github.com/repos/Itzpatron/PATRON-MD2/commits/main','lstatSync','config.js','⚠️\x20*Creator\x20only\x20command*','\x20卄\x20','update','remoteJid','mkdirSync','sha','temp_update/PATRON-MD2-main','6135HEKXea','extractAllTo','app.json','12250953DudJjz','Already\x20latest\x20version','sendMessage','251512dTXDAn','path','readdirSync','Update\x20error:','includes','1867932zNnFXL','update_temp.zip','join','10UyoCgv','632DUDrHK','https://github.com/Itzpatron/PATRON-MD2/archive/main.zip','../command','error','unlinkSync','rmSync','key','arraybuffer','temp_update','child_process','inherit','forEach','28gYUNiR','Checking\x20PATRON-MD','1399200PZuiag','407866QCeRHz','copyFileSync'];_0x5a46=function(){return _0x56897b;};return _0x5a46();}(function(_0x50d29b,_0x47f222){const _0x141041=_0x3cab,_0x7cd644=_0x50d29b();while(!![]){try{const _0x122922=-parseInt(_0x141041(0xfc))/0x1+-parseInt(_0x141041(0x104))/0x2+-parseInt(_0x141041(0xde))/0x3*(-parseInt(_0x141041(0xed))/0x4)+-parseInt(_0x141041(0xfb))/0x5+-parseInt(_0x141041(0xe9))/0x6+parseInt(_0x141041(0xf9))/0x7*(-parseInt(_0x141041(0xe4))/0x8)+parseInt(_0x141041(0xe1))/0x9*(parseInt(_0x141041(0xec))/0xa);if(_0x122922===_0x47f222)break;else _0x7cd644['push'](_0x7cd644['shift']());}catch(_0x2d21f1){_0x7cd644['push'](_0x7cd644['shift']());}}}(_0x5a46,0x3383a));const {cmd}=require(_0x2b90a5(0xef)),axios=require(_0x2b90a5(0x101)),fs=require('fs'),path=require(_0x2b90a5(0xe5)),AdmZip=require('adm-zip'),{execSync}=require(_0x2b90a5(0xf6)),{setCommitHash,getCommitHash}=require(_0x2b90a5(0xff));function _0x3cab(_0x54d57b,_0x325bcb){const _0x5a46b1=_0x5a46();return _0x3cab=function(_0x3caba1,_0x26b1da){_0x3caba1=_0x3caba1-0xda;let _0xdf3f03=_0x5a46b1[_0x3caba1];return _0xdf3f03;},_0x3cab(_0x54d57b,_0x325bcb);}cmd({'pattern':_0x2b90a5(0x10b),'alias':[_0x2b90a5(0x102),_0x2b90a5(0x100)],'desc':'Update\x20the\x20bot\x20to\x20the\x20latest\x20version.','category':'misc','filename':__filename},async(_0x452269,_0x1253b7,_0xbe00bb,{reply:_0x4b4e53,isCreator:_0x5e71b5})=>{const _0x23bad2=_0x2b90a5;if(!_0x5e71b5)return _0x4b4e53(_0x23bad2(0x109));await _0x452269[_0x23bad2(0xe3)](_0x1253b7[_0x23bad2(0xf3)][_0x23bad2(0xda)],{'react':{'text':'🔄','key':_0x1253b7[_0x23bad2(0xf3)]}});try{const _0x53958f=(_0x55e7bd,_0x11eca7)=>'*'+_0x11eca7+_0x23bad2(0x10a)+_0x55e7bd+_0x23bad2(0x10a)+_0x11eca7+'*';await _0x4b4e53(_0x53958f(_0x23bad2(0xfa),'🔍'));const {data:_0x3fc406}=await axios['get'](_0x23bad2(0x106));if(await getCommitHash()===_0x3fc406[_0x23bad2(0xdc)])return _0x4b4e53(_0x53958f(_0x23bad2(0xe2),'✅'));await _0x4b4e53(_0x53958f('Updating\x20PATRON-MD','⚡'));const _0x5a9ada=path['join'](__dirname,_0x23bad2(0xea));fs[_0x23bad2(0x103)](_0x5a9ada,(await axios['get'](_0x23bad2(0xee),{'responseType':_0x23bad2(0xf4)}))['data']),new AdmZip(_0x5a9ada)[_0x23bad2(0xdf)](path[_0x23bad2(0xeb)](__dirname,_0x23bad2(0xf5)),!![]),copyFolderSync(path[_0x23bad2(0xeb)](__dirname,_0x23bad2(0xdd)),path[_0x23bad2(0xeb)](__dirname,'..')),await setCommitHash(_0x3fc406[_0x23bad2(0xdc)]),fs[_0x23bad2(0xf1)](_0x5a9ada),fs[_0x23bad2(0xf2)](path['join'](__dirname,_0x23bad2(0xf5)),{'recursive':!![]}),await _0x4b4e53(_0x53958f(_0x23bad2(0x105),'🔄')),execSync('pm2\x20restart\x20all',{'stdio':_0x23bad2(0xf7)});}catch(_0x1143b1){console[_0x23bad2(0xf0)](_0x23bad2(0xe7),_0x1143b1),_0x4b4e53(stylish('Update\x20failed','❌'));}});function copyFolderSync(_0x52208b,_0x3551f1){const _0x5d2ea7=_0x2b90a5;if(!fs[_0x5d2ea7(0xfe)](_0x52208b))return;fs[_0x5d2ea7(0xfe)](_0x3551f1)||fs[_0x5d2ea7(0xdb)](_0x3551f1,{'recursive':!![]}),fs[_0x5d2ea7(0xe6)](_0x52208b)[_0x5d2ea7(0xf8)](_0x237236=>{const _0x51139e=_0x5d2ea7;if([_0x51139e(0x108),_0x51139e(0xe0)][_0x51139e(0xe8)](_0x237236))return;const _0x13dc80=path[_0x51139e(0xeb)](_0x52208b,_0x237236),_0x1dcdb0=path['join'](_0x3551f1,_0x237236);fs[_0x51139e(0x107)](_0x13dc80)['isDirectory']()?copyFolderSync(_0x13dc80,_0x1dcdb0):fs[_0x51139e(0xfd)](_0x13dc80,_0x1dcdb0);});}