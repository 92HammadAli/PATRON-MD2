const _0x128e00=_0x512c;(function(_0x3d6d08,_0x543172){const _0x5451de=_0x512c,_0x46a633=_0x3d6d08();while(!![]){try{const _0x4881bd=parseInt(_0x5451de(0xfc))/0x1*(-parseInt(_0x5451de(0xe5))/0x2)+parseInt(_0x5451de(0x109))/0x3*(-parseInt(_0x5451de(0xf7))/0x4)+parseInt(_0x5451de(0x10c))/0x5+-parseInt(_0x5451de(0xf9))/0x6+-parseInt(_0x5451de(0xfb))/0x7+parseInt(_0x5451de(0xfa))/0x8*(parseInt(_0x5451de(0x11a))/0x9)+parseInt(_0x5451de(0x119))/0xa*(parseInt(_0x5451de(0xe7))/0xb);if(_0x4881bd===_0x543172)break;else _0x46a633['push'](_0x46a633['shift']());}catch(_0x246b68){_0x46a633['push'](_0x46a633['shift']());}}}(_0x4ecd,0x30d7d));const {cmd}=require('../command'),{loadSettings,saveSettings}=require(_0x128e00(0x10b));let settings=loadSettings(),welcomeSettings=settings[_0x128e00(0xf2)]||{},goodbyeSettings=settings[_0x128e00(0xf8)]||{};function _0x512c(_0x52fe91,_0x48a064){const _0x4ecd5a=_0x4ecd();return _0x512c=function(_0x512c2d,_0x298da8){_0x512c2d=_0x512c2d-0xe4;let _0x347473=_0x4ecd5a[_0x512c2d];return _0x347473;},_0x512c(_0x52fe91,_0x48a064);}function _0x4ecd(){const _0x5e31de=['actor','sendMessage','\x20*@','join','‚ùå\x20Goodbye\x20messages\x20disabled','./pdmCommands','replace','split','Welcome\x20{user}\x20to\x20{group}!\x20We\x27re\x20glad\x20to\x20have\x20you\x20here.','welcome','groupMetadata','promoted','author','group-participants.update','111820qpGing','goodbye','1572450EhqafJ','8nLMDTe','1560790xFgnhA','23yJakZC','demote','‚ùå\x20Error\x20updating\x20goodbye\x20settings','promote','toLowerCase','participants','add','‚ùå\x20*Disabled*','length','message','\x0a\x0aUsage:\x0a‚Ä¢\x20welcome\x20on/off\x0a‚Ä¢\x20welcome\x20<custom\x20message>\x0a\x0aüìå\x20*Tip:*\x20You\x20can\x20use\x20these\x20placeholders\x20in\x20your\x20message:\x0a‚Ä¢\x20{user}\x20-\x20mentions\x20the\x20new\x20member\x0a‚Ä¢\x20{group}\x20-\x20group\x20name\x0a‚Ä¢\x20{gname}\x20-\x20alternative\x20for\x20group\x20name\x0a‚Ä¢\x20{count}\x20-\x20member\x20count','exports','Current\x20goodbye\x20settings:\x0a\x0a','24kkjmId','Goodbye\x20{user}.\x20We\x27ll\x20miss\x20you\x20in\x20{group}.','../lib/groupMessagesStorage','1813805qcZBxb','\x0a\x0aUsage:\x0a‚Ä¢\x20goodbye\x20on/off\x0a‚Ä¢\x20goodbye\x20<custom\x20message>\x0a\x0aüìå\x20*Tip:*\x20You\x20can\x20use\x20these\x20placeholders\x20in\x20your\x20message:\x0a‚Ä¢\x20{user}\x20-\x20mentions\x20the\x20leaving\x20member\x0a‚Ä¢\x20{group}\x20-\x20group\x20name\x0a‚Ä¢\x20{gname}\x20-\x20alternative\x20for\x20group\x20name\x0a‚Ä¢\x20{count}\x20-\x20member\x20count','‚úÖ\x20*Enabled*\x0aüí¨\x20Message:\x20','‚ùå\x20This\x20command\x20only\x20works\x20in\x20groups','Current\x20welcome\x20settings:\x0a\x0a','‚ùå\x20Welcome\x20messages\x20disabled','welc','enabled','‚ùå\x20Bot\x20needs\x20admin\x20rights\x20to\x20manage\x20welcome\x20messages','group','the\x20group','‚ùå\x20Error\x20updating\x20welcome\x20settings','key','2467330whAPaW','2454489iGPyol','chat','this\x20group','bye','catch','off','action','Manage\x20goodbye\x20messages\x20in\x20groups','19148bEvlyJ','error','22EKYaUI','‚ùå\x20Bot\x20needs\x20admin\x20rights\x20to\x20manage\x20goodbye\x20messages'];_0x4ecd=function(){return _0x5e31de;};return _0x4ecd();}const {getPDMStatus}=require(_0x128e00(0xee)),defaultWelcomeMessage=_0x128e00(0xf1),defaultGoodbyeMessage=_0x128e00(0x10a);function formatMessage(_0x290095,_0x19fc84,_0x77c50a,_0x9ab65d){const _0x59ee51=_0x128e00;return _0x290095[_0x59ee51(0xef)](/{user}/g,_0x19fc84)['replace'](/{group}/g,_0x77c50a||'this\x20group')[_0x59ee51(0xef)](/{gname}/g,_0x77c50a||_0x59ee51(0x11c))[_0x59ee51(0xef)](/{count}/g,_0x9ab65d||'0');}cmd({'pattern':_0x128e00(0xf2),'alias':[_0x128e00(0x112),'wm'],'desc':'Manage\x20welcome\x20messages\x20in\x20groups','category':_0x128e00(0x115),'filename':__filename},async(_0x1d8345,_0x31bbda,_0x2ff119,{from:_0x5e2df5,args:_0x548835,reply:_0x57162f,isGroup:_0x38e4b9,isBotAdmins:_0x5006fb})=>{const _0x1e8f50=_0x128e00;await _0x1d8345[_0x1e8f50(0xea)](_0x2ff119[_0x1e8f50(0x11b)],{'react':{'text':'üëã','key':_0x2ff119[_0x1e8f50(0x118)]}});if(!_0x38e4b9)return _0x57162f(_0x1e8f50(0x10f));if(!_0x5006fb)return _0x57162f(_0x1e8f50(0x114));try{if(!_0x548835['length']){const _0x4a18eb=welcomeSettings[_0x5e2df5],_0x7c0c8a=_0x4a18eb?.[_0x1e8f50(0x113)]?'‚úÖ\x20*Enabled*\x0aüí¨\x20Message:\x20'+(_0x4a18eb[_0x1e8f50(0x105)]||defaultWelcomeMessage):_0x1e8f50(0x103);return _0x57162f(_0x1e8f50(0x110)+_0x7c0c8a+_0x1e8f50(0x106));}const _0x2a4a2a=_0x548835[0x0][_0x1e8f50(0x100)]();if(_0x2a4a2a==='on')welcomeSettings[_0x5e2df5]={'enabled':!![],'message':defaultWelcomeMessage};else _0x2a4a2a===_0x1e8f50(0x11f)?welcomeSettings[_0x5e2df5]={'enabled':![]}:welcomeSettings[_0x5e2df5]={'enabled':!![],'message':_0x548835[_0x1e8f50(0xec)]('\x20')};return settings[_0x1e8f50(0xf2)]=welcomeSettings,saveSettings(settings),_0x57162f(_0x2a4a2a===_0x1e8f50(0x11f)?_0x1e8f50(0x111):'‚úÖ\x20Welcome\x20messages\x20updated');}catch(_0x4a914c){return console[_0x1e8f50(0xe6)]('Welcome\x20command\x20error:',_0x4a914c),_0x57162f(_0x1e8f50(0x117));}}),cmd({'pattern':_0x128e00(0xf8),'alias':['gb',_0x128e00(0x11d)],'desc':_0x128e00(0xe4),'category':_0x128e00(0x115),'filename':__filename},async(_0x1aa671,_0x107bca,_0x3d564b,{from:_0x2c2fdf,args:_0x38a76b,reply:_0x5073d7,isGroup:_0x1bef35,isBotAdmins:_0x10746c})=>{const _0xd174cf=_0x128e00;await _0x1aa671['sendMessage'](_0x3d564b['chat'],{'react':{'text':'üëã','key':_0x3d564b[_0xd174cf(0x118)]}});if(!_0x1bef35)return _0x5073d7(_0xd174cf(0x10f));if(!_0x10746c)return _0x5073d7(_0xd174cf(0xe8));try{if(!_0x38a76b[_0xd174cf(0x104)]){const _0xff147c=goodbyeSettings[_0x2c2fdf],_0x175257=_0xff147c?.[_0xd174cf(0x113)]?_0xd174cf(0x10e)+(_0xff147c[_0xd174cf(0x105)]||defaultGoodbyeMessage):_0xd174cf(0x103);return _0x5073d7(_0xd174cf(0x108)+_0x175257+_0xd174cf(0x10d));}const _0x290e5e=_0x38a76b[0x0][_0xd174cf(0x100)]();if(_0x290e5e==='on')goodbyeSettings[_0x2c2fdf]={'enabled':!![],'message':defaultGoodbyeMessage};else _0x290e5e===_0xd174cf(0x11f)?goodbyeSettings[_0x2c2fdf]={'enabled':![]}:goodbyeSettings[_0x2c2fdf]={'enabled':!![],'message':_0x38a76b[_0xd174cf(0xec)]('\x20')};return settings[_0xd174cf(0xf8)]=goodbyeSettings,saveSettings(settings),_0x5073d7(_0x290e5e===_0xd174cf(0x11f)?_0xd174cf(0xed):'‚úÖ\x20Goodbye\x20messages\x20updated');}catch(_0x1e1dde){return console[_0xd174cf(0xe6)]('Goodbye\x20command\x20error:',_0x1e1dde),_0x5073d7(_0xd174cf(0xfe));}});function registerGroupMessages(_0x149999){const _0x5a94f4=_0x128e00;_0x149999['ev']['on'](_0x5a94f4(0xf6),async _0x573a06=>{const _0xb8b200=_0x5a94f4,_0x11ad49=_0x573a06['id'];try{const _0x41d86a=await _0x149999[_0xb8b200(0xf3)](_0x11ad49)[_0xb8b200(0x11e)](()=>null),_0x391a3b=_0x41d86a?.['subject']||_0xb8b200(0x116),_0x2eabc3=_0x41d86a?.['participants']?.[_0xb8b200(0x104)]||0x0,_0x204808=async(_0x469833,_0x43405a)=>{const _0x294e16=_0xb8b200,_0x3149a5=_0x43405a?welcomeSettings[_0x11ad49]:goodbyeSettings[_0x11ad49];if(!_0x3149a5?.[_0x294e16(0x113)])return;const _0x364a90=_0x3149a5[_0x294e16(0x105)]||(_0x43405a?defaultWelcomeMessage:defaultGoodbyeMessage),_0xd79fc5='@'+_0x469833[_0x294e16(0xf0)]('@')[0x0],_0xb1db24=formatMessage(_0x364a90,_0xd79fc5,_0x391a3b,_0x2eabc3);await _0x149999[_0x294e16(0xea)](_0x11ad49,{'text':_0xb1db24,'mentions':[_0x469833]});};if(_0x573a06['action']===_0xb8b200(0x102))for(const _0x5a467b of _0x573a06[_0xb8b200(0x101)]){await _0x204808(_0x5a467b,!![]);}else{if(_0x573a06[_0xb8b200(0x120)]==='remove')for(const _0x14ad18 of _0x573a06[_0xb8b200(0x101)]){await _0x204808(_0x14ad18,![]);}else{if(_0x573a06[_0xb8b200(0x120)]==='promote'||_0x573a06[_0xb8b200(0x120)]===_0xb8b200(0xfd)){if(getPDMStatus&&getPDMStatus(_0x11ad49))for(const _0x5446c1 of _0x573a06[_0xb8b200(0x101)]){const _0x158458=_0x573a06[_0xb8b200(0xf5)]||_0x573a06[_0xb8b200(0xe9)]||_0x5446c1,_0x1a8a9e=_0x573a06[_0xb8b200(0x120)]===_0xb8b200(0xff)?_0xb8b200(0xf4):'demoted',_0x404ad8=_0x573a06[_0xb8b200(0x120)]===_0xb8b200(0xff)?'üéâ':'üö´';await _0x149999[_0xb8b200(0xea)](_0x11ad49,{'text':_0x404ad8+_0xb8b200(0xeb)+_0x158458[_0xb8b200(0xf0)]('@')[0x0]+'*\x20'+_0x1a8a9e+_0xb8b200(0xeb)+_0x5446c1[_0xb8b200(0xf0)]('@')[0x0]+'*','mentions':[_0x158458,_0x5446c1]});}}}}}catch(_0x53ee99){console[_0xb8b200(0xe6)]('Group\x20update\x20handler\x20error:',_0x53ee99);}});}module[_0x128e00(0x107)]={'registerGroupMessages':registerGroupMessages};