const _0x3700c6=_0x5396;(function(_0x1279ec,_0x591e07){const _0x4a450e=_0x5396,_0x512947=_0x1279ec();while(!![]){try{const _0x41b64d=-parseInt(_0x4a450e(0x168))/0x1*(parseInt(_0x4a450e(0x15e))/0x2)+-parseInt(_0x4a450e(0x14b))/0x3+-parseInt(_0x4a450e(0x14e))/0x4*(-parseInt(_0x4a450e(0x165))/0x5)+parseInt(_0x4a450e(0x14f))/0x6+parseInt(_0x4a450e(0x156))/0x7+parseInt(_0x4a450e(0x170))/0x8*(parseInt(_0x4a450e(0x145))/0x9)+-parseInt(_0x4a450e(0x15a))/0xa;if(_0x41b64d===_0x591e07)break;else _0x512947['push'](_0x512947['shift']());}catch(_0x39c5cc){_0x512947['push'](_0x512947['shift']());}}}(_0x5202,0xd1537));function _0x5396(_0x395b1f,_0x1f0b6e){const _0x520207=_0x5202();return _0x5396=function(_0x5396f1,_0x31b43c){_0x5396f1=_0x5396f1-0x142;let _0x42ebb6=_0x520207[_0x5396f1];return _0x42ebb6;},_0x5396(_0x395b1f,_0x1f0b6e);}const {getLinkDetectionMode}=require(_0x3700c6(0x155)),{incrementWarning,resetWarning,getWarningCount}=require(_0x3700c6(0x15c)),{getPDMStatus,updatePDMStatus}=require('../plugins/pdmCommands'),fs=require('fs'),setupLinkDetection=_0x2481be=>{const _0x5ca216=_0x3700c6;_0x2481be['ev']['on'](_0x5ca216(0x16a),async({messages:_0x26fff5})=>{const _0x10446d=_0x5ca216;for(const _0x5e0d9d of _0x26fff5){if(!_0x5e0d9d[_0x10446d(0x167)])continue;const _0x1d0901=_0x5e0d9d[_0x10446d(0x169)][_0x10446d(0x173)];if(!_0x1d0901||!_0x1d0901[_0x10446d(0x144)](_0x10446d(0x176))||_0x5e0d9d['key'][_0x10446d(0x161)])continue;const _0x1e24db=_0x5e0d9d['message']?.['conversation']||_0x5e0d9d[_0x10446d(0x167)]?.[_0x10446d(0x151)]?.[_0x10446d(0x163)]||'',_0x59f7dc=/\b((https?:\/\/)?(([\w-]+\.)+[\w-]{2,}|localhost|\d{1,3}(\.\d{1,3}){3})(:\d{2,5})?(\/[^\s]*)?)\b/gi;if(_0x59f7dc[_0x10446d(0x157)](_0x1e24db)){console[_0x10446d(0x162)](_0x10446d(0x160)+_0x1d0901+':\x20'+_0x1e24db);const _0x53004a=_0x5e0d9d['key'][_0x10446d(0x16e)];if(!_0x53004a)continue;const _0x50f0b0=await getLinkDetectionMode(_0x1d0901)||_0x10446d(0x14c);await _0x2481be[_0x10446d(0x158)](_0x1d0901,{'delete':{'remoteJid':_0x1d0901,'fromMe':![],'id':_0x5e0d9d[_0x10446d(0x169)]['id']}});const _0x33403d=await getPDMStatus(_0x1d0901);_0x33403d&&await _0x2481be[_0x10446d(0x158)](_0x1d0901,{'text':_0x10446d(0x148)+_0x53004a[_0x10446d(0x166)]('@')[0x0]+_0x10446d(0x146),'mentions':[_0x53004a]});if(_0x50f0b0===_0x10446d(0x175))await _0x2481be['groupParticipantsUpdate'](_0x1d0901,[_0x53004a],_0x10446d(0x143)),await _0x2481be[_0x10446d(0x158)](_0x1d0901,{'text':_0x10446d(0x172)+_0x53004a[_0x10446d(0x166)]('@')[0x0]+'\x20has\x20been\x20removed\x20for\x20sending\x20links.','mentions':[_0x53004a]});else{if(_0x50f0b0==='warn'){const _0x4aac0d=incrementWarning(_0x1d0901,_0x53004a);await _0x2481be[_0x10446d(0x158)](_0x1d0901,{'text':'⚠️\x20@'+_0x53004a['split']('@')[0x0]+_0x10446d(0x152)+_0x4aac0d+'/3','mentions':[_0x53004a]}),_0x4aac0d>=0x3&&(await _0x2481be[_0x10446d(0x150)](_0x1d0901,[_0x53004a],_0x10446d(0x143)),await _0x2481be[_0x10446d(0x158)](_0x1d0901,{'text':'🚫\x20@'+_0x53004a[_0x10446d(0x166)]('@')[0x0]+_0x10446d(0x16b),'mentions':[_0x53004a]}),resetWarning(_0x1d0901,_0x53004a));}}}}}),_0x2481be['ev']['on'](_0x5ca216(0x14a),async _0x735a4a=>{const _0x5234b3=_0x5ca216,{id:_0x43d861,participants:_0x21df5,action:_0x5dd1c8}=_0x735a4a;console['log'](_0x5234b3(0x154),JSON[_0x5234b3(0x15d)](_0x735a4a,null,0x2));const _0x365f4b=await getPDMStatus(_0x43d861);if(!_0x365f4b)return;const _0x20816e=_0x21df5[0x0];try{const _0x42287f=await _0x2481be[_0x5234b3(0x164)](_0x43d861);if(!_0x42287f)return;let _0x140194=_0x735a4a[_0x5234b3(0x159)]||_0x735a4a['author'];(!_0x140194||_0x140194===_0x20816e)&&(_0x140194=null);const _0x557821=_0x42287f[_0x5234b3(0x147)]['find'](_0x255496=>_0x255496['id']===_0x140194),_0x536d40=_0x42287f[_0x5234b3(0x147)][_0x5234b3(0x142)](_0x415852=>_0x415852['id']===_0x20816e),_0x32c457=_0x557821?.[_0x5234b3(0x149)]||_0x557821?.['name']||(_0x140194?_0x140194[_0x5234b3(0x166)]('@')[0x0]:'An\x20admin'),_0x5d4982=_0x536d40?.[_0x5234b3(0x149)]||_0x536d40?.[_0x5234b3(0x174)]||_0x20816e[_0x5234b3(0x166)]('@')[0x0]||'User';if(_0x5dd1c8===_0x5234b3(0x16d)){const _0x500590='🎉\x20*'+_0x32c457+_0x5234b3(0x15b)+_0x20816e[_0x5234b3(0x166)]('@')[0x0]+_0x5234b3(0x153)+_0x5d4982+_0x5234b3(0x14d);await _0x2481be['sendMessage'](_0x43d861,{'text':_0x500590,'mentions':_0x140194?[_0x140194,_0x20816e]:[_0x20816e]});}if(_0x5dd1c8===_0x5234b3(0x171)){const _0x50cfa8='🚫\x20*'+_0x32c457+'*\x20demoted\x20*@'+_0x20816e[_0x5234b3(0x166)]('@')[0x0]+'*\x20from\x20admin.\x0a\x0a*'+_0x5d4982+_0x5234b3(0x15f);await _0x2481be[_0x5234b3(0x158)](_0x43d861,{'text':_0x50cfa8,'mentions':_0x140194?[_0x140194,_0x20816e]:[_0x20816e]});}}catch(_0x42bd48){console['error'](_0x5234b3(0x16f),_0x42bd48);}});};function _0x5202(){const _0x3c41ed=[',\x20step\x20back\x20and\x20regroup.*\x20😔','Detected\x20link\x20in\x20group\x20','fromMe','log','text','groupMetadata','110nAtDMH','split','message','20465dOGFJy','key','messages.upsert','\x20has\x20been\x20removed\x20after\x203\x20warnings.','exports','promote','participant','Error:','8tOxHYW','demote','🚫\x20@','remoteJid','name','kick','@g.us','find','remove','endsWith','4487778ZUtkJu','\x20has\x20been\x20warned.','participants','❌\x20Links\x20are\x20not\x20allowed\x20in\x20this\x20group.\x20@','notify','group.participants.update','4552488MgZFiy','warn','!*\x20🎉','215268iZPGNw','7780254Jvjjlx','groupParticipantsUpdate','extendedTextMessage',',\x20links\x20are\x20not\x20allowed!\x0aWarning\x20count:\x20','*\x20to\x20admin.\x0a\x0a*Congratulations\x20','Event:','./linkDetection','8790978yVraAR','test','sendMessage','actor','17579590AADrKj','*\x20promoted\x20*@','./warnings','stringify','10klAgfw'];_0x5202=function(){return _0x3c41ed;};return _0x5202();}module[_0x3700c6(0x16c)]=setupLinkDetection;